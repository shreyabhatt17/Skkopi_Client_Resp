!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/core"),require("@angular/common")):"function"==typeof define&&define.amd?define("ng2-tooltip-directive",["exports","@angular/core","@angular/common"],e):e(t["ng2-tooltip-directive"]={},t.ng.core,t.ng.common)}(this,function(t,n,e){"use strict";var o=function(){function t(t,e){this.elementRef=t,this.renderer=e,this._show=!1,this.events=new n.EventEmitter}return t.prototype.transitionEnd=function(t){this.show&&this.events.emit("shown")},Object.defineProperty(t.prototype,"show",{get:function(){return this._show},set:function(t){t&&this.setPosition(),this._show=this.hostClassShow=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"placement",{get:function(){return this.data.options.placement},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"element",{get:function(){return this.data.element},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"elementPosition",{get:function(){return this.data.elementPosition},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.data.options},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){return this.data.value},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tooltipOffset",{get:function(){return Number(this.data.options.offset)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isThemeLight",{get:function(){return"light"===this.options.theme},enumerable:!0,configurable:!0}),t.prototype.ngOnInit=function(){this.setPlacementClass(),this.setZIndex(),this.setCustomClass(),this.setAnimationDuration(),this.setStyles()},t.prototype.setPosition=function(){var t=this.element instanceof SVGElement,e=this.elementRef.nativeElement,o=t?this.element.getBBox().height:this.element.offsetHeight,i=t?this.element.getBBox().width:this.element.offsetWidth,n=e.clientHeight,s=e.clientWidth,r=window.pageYOffset;"top"===this.placement&&(this.hostStyleTop=this.elementPosition.top+r-(n+this.tooltipOffset)+"px"),"bottom"===this.placement&&(this.hostStyleTop=this.elementPosition.top+r+o+this.tooltipOffset+"px"),"top"!==this.placement&&"bottom"!==this.placement||(this.hostStyleLeft=this.elementPosition.left+i/2-s/2+"px"),"left"===this.placement&&(this.hostStyleLeft=this.elementPosition.left-s-this.tooltipOffset+"px"),"right"===this.placement&&(this.hostStyleLeft=this.elementPosition.left+i+this.tooltipOffset+"px"),"left"!==this.placement&&"right"!==this.placement||(this.hostStyleTop=this.elementPosition.top+r+o/2-e.clientHeight/2+"px")},t.prototype.setPlacementClass=function(){this.renderer.addClass(this.elementRef.nativeElement,"tooltip-"+this.placement)},t.prototype.setZIndex=function(){0!==this.options["z-index"]&&(this.hostStyleZIndex=this.options["z-index"])},t.prototype.setCustomClass=function(){this.options["tooltip-class"]&&this.renderer.addClass(this.elementRef.nativeElement,this.options["tooltip-class"])},t.prototype.setAnimationDuration=function(){Number(this.options["animation-duration"])!=this.options["animation-duration-default"]&&(this.hostStyleTransition="opacity "+this.options["animation-duration"]+"ms")},t.prototype.setStyles=function(){this.hostClassShadow=this.options.shadow,this.hostClassLight=this.isThemeLight,this.hostStyleMaxWidth=this.options["max-width"]},t.decorators=[{type:n.Component,args:[{selector:"tooltip",template:'<div *ngIf="isThemeLight" class="tooltip-arrow"></div>\r\n\r\n<div *ngIf="options[\'content-type\'] === \'template\' else htmlOrStringTemplate" \r\n    [ngClass]="{\'tooltip-arrow\': isThemeLight }">\r\n\r\n\t<ng-container *ngTemplateOutlet="value"></ng-container>\r\n</div>\r\n\r\n<ng-template #htmlOrStringTemplate>\r\n\t<div [innerHTML]="value"></div>\r\n</ng-template>\r\n',host:{"class":"tooltip"},styles:[":host{max-width:200px;background-color:#000;color:#fff;text-align:center;border-radius:6px;padding:5px 8px;position:absolute;pointer-events:none;z-index:1000;display:block;opacity:0;transition:opacity .3s}:host.tooltip-show{opacity:1}:host.tooltip-shadow{box-shadow:0 7px 15px -5px rgba(0,0,0,.4)}:host.tooltip-light.tooltip-shadow{box-shadow:0 5px 15px -5px rgba(0,0,0,.4)}:host.tooltip::after{content:\"\";position:absolute;border-style:solid}:host.tooltip-top::after{top:100%;left:50%;margin-left:-5px;border-width:5px;border-color:#000 transparent transparent}:host.tooltip-bottom::after{bottom:100%;left:50%;margin-left:-5px;border-width:5px;border-color:transparent transparent #000}:host.tooltip-left::after{top:50%;left:100%;margin-top:-5px;border-width:5px;border-color:transparent transparent transparent #000}:host.tooltip-right::after{top:50%;right:100%;margin-top:-5px;border-width:5px;border-color:transparent #000 transparent transparent}:host.tooltip-light::after{display:none}:host.tooltip-light{border:1px solid rgba(0,0,0,.06);background-color:#fff;color:#000}:host.tooltip-light .tooltip-arrow{position:absolute;width:10px;height:10px;-webkit-transform:rotate(135deg);transform:rotate(135deg);background-color:rgba(0,0,0,.07)}:host.tooltip-light .tooltip-arrow::after{background-color:#fff;content:'';display:block;position:absolute;width:10px;height:10px}:host.tooltip-top.tooltip-light{margin-top:-2px}:host.tooltip-top.tooltip-light .tooltip-arrow{top:100%;left:50%;margin-top:-4px;margin-left:-5px;background:linear-gradient(to bottom left,rgba(0,0,0,.07) 50%,transparent 50%)}:host.tooltip-top.tooltip-light .tooltip-arrow::after{top:1px;right:1px}:host.tooltip-bottom.tooltip-light .tooltip-arrow{bottom:100%;left:50%;margin-bottom:-4px;margin-left:-5px;background:linear-gradient(to top right,rgba(0,0,0,.1) 50%,transparent 50%)}:host.tooltip-bottom.tooltip-light .tooltip-arrow::after{top:-1px;right:-1px}:host.tooltip-left.tooltip-light .tooltip-arrow{top:50%;left:100%;margin-top:-5px;margin-left:-4px;background:linear-gradient(to bottom right,rgba(0,0,0,.07) 50%,transparent 50%)}:host.tooltip-left.tooltip-light .tooltip-arrow::after{top:1px;right:-1px}:host.tooltip-right.tooltip-light .tooltip-arrow{top:50%;right:100%;margin-top:-5px;margin-right:-4px;background:linear-gradient(to top left,rgba(0,0,0,.07) 50%,transparent 50%)}:host.tooltip-right.tooltip-light .tooltip-arrow::after{top:-1px;right:1px}"]}]}],t.ctorParameters=function(){return[{type:n.ElementRef},{type:n.Renderer2}]},t.propDecorators={data:[{type:n.Input}],hostStyleTop:[{type:n.HostBinding,args:["style.top"]}],hostStyleLeft:[{type:n.HostBinding,args:["style.left"]}],hostStyleZIndex:[{type:n.HostBinding,args:["style.z-index"]}],hostStyleTransition:[{type:n.HostBinding,args:["style.transition"]}],hostStyleMaxWidth:[{type:n.HostBinding,args:["style.max-width"]}],hostClassShow:[{type:n.HostBinding,args:["class.tooltip-show"]}],hostClassShadow:[{type:n.HostBinding,args:["class.tooltip-shadow"]}],hostClassLight:[{type:n.HostBinding,args:["class.tooltip-light"]}],transitionEnd:[{type:n.HostListener,args:["transitionend",["$event"]]}],show:[{type:n.Input}]},t}(),i={placement:"top","content-type":"string",delay:0,"show-delay":0,"hide-delay":300,"hide-delay-mobile":1500,"z-index":0,"animation-duration":300,"animation-duration-default":300,trigger:"hover","tooltip-class":"",display:!0,"display-mobile":!0,shadow:!0,theme:"dark",offset:8,"max-width":"",id:!1},s=function(){function t(t,e,o,i){this.elementRef=t,this.componentFactoryResolver=e,this.appRef=o,this.injector=i,this._showDelay=0,this._hideDelay=300,this._options={},this.events=new n.EventEmitter}return Object.defineProperty(t.prototype,"options",{get:function(){return this._options},set:function(t){t&&i&&(this._options=t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"placement",{set:function(t){t&&(this._options.placement=t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"contentType",{set:function(t){t&&(this._options["content-type"]=t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"delay",{set:function(t){t&&(this._options.delay=t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hideDelayMobile",{set:function(t){t&&(this._options["hide-delay-mobile"]=t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"zIndex",{set:function(t){t&&(this._options["z-index"]=t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"animationDuration",{set:function(t){t&&(this._options["animation-duration"]=t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"trigger",{set:function(t){t&&(this._options.trigger=t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tooltipClass",{set:function(t){t&&(this._options["tooltip-class"]=t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"display",{set:function(t){"boolean"==typeof t&&(this._options.display=t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"displayMobile",{set:function(t){this._options["display-mobile"]=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"shadow",{set:function(t){this._options.shadow=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"theme",{set:function(t){t&&(this._options.theme=t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"offset",{set:function(t){t&&(this._options.offset=t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxWidth",{set:function(t){t&&(this._options["max-width"]=t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._id},set:function(t){this._id=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showDelay",{get:function(){var t=this.options.delay||this._showDelay;return this.isMobile?0:t},set:function(t){t&&(this._showDelay=this._options["show-delay"]=t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hideDelay",{get:function(){return this.isMobile?this._hideDelay>=this.options["hide-delay-mobile"]?this._hideDelay:this.options["hide-delay-mobile"]:this._hideDelay},set:function(t){t&&(this._hideDelay=this._options["hide-delay"]=t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isTooltipDestroyed",{get:function(){return this.componentRef&&this.componentRef.hostView.destroyed},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"destroyDelay",{get:function(){return this._destroyDelay?this._destroyDelay:Number(this.hideDelay)+Number(this.options["animation-duration"])},set:function(t){this._destroyDelay=t},enumerable:!0,configurable:!0}),t.prototype.onMouseEnter=function(){0!=this.isDisplayOnHover&&this.show()},t.prototype.onMouseLeave=function(){"hover"===this.options.trigger&&this.destroyTooltip()},t.prototype.onClick=function(){var t=this;0!=this.isDisplayOnClick&&(this.show(),this.hideAfterClickTimeoutId=window.setTimeout(function(){t.destroyTooltip()},0))},t.prototype.ngOnInit=function(){this.applyOptionsDefault(i,this.options)},t.prototype.ngOnDestroy=function(){this.destroyTooltip({fast:!0}),this.componentSubscribe&&this.componentSubscribe.unsubscribe()},t.prototype.getElementPosition=function(){this.elementPosition=this.elementRef.nativeElement.getBoundingClientRect()},t.prototype.createTooltip=function(){var t=this;this.clearTimeouts(),this.getElementPosition(),this.createTimeoutId=window.setTimeout(function(){t.appendComponentToBody(o)},this.showDelay),this.showTimeoutId=window.setTimeout(function(){t.showTooltipElem()},this.showDelay)},t.prototype.destroyTooltip=function(t){var e=this;void 0===t&&(t={fast:!1}),this.clearTimeouts(),0==this.isTooltipDestroyed&&(this.hideTimeoutId=window.setTimeout(function(){e.hideTooltip()},t.fast?0:this.hideDelay),this.destroyTimeoutId=window.setTimeout(function(){e.componentRef&&!e.isTooltipDestroyed&&(e.appRef.detachView(e.componentRef.hostView),e.componentRef.destroy(),e.events.emit("hidden"))},t.fast?0:this.destroyDelay))},t.prototype.showTooltipElem=function(){this.clearTimeouts(),this.componentRef.instance.show=!0,this.events.emit("show")},t.prototype.hideTooltip=function(){this.componentRef&&!this.isTooltipDestroyed&&(this.componentRef.instance.show=!1,this.events.emit("hide"))},t.prototype.appendComponentToBody=function(t,e){var o=this;void 0===e&&(e={}),this.componentRef=this.componentFactoryResolver.resolveComponentFactory(t).create(this.injector),this.componentRef.instance.data={value:this.tooltipValue,element:this.elementRef.nativeElement,elementPosition:this.elementPosition,options:this.options},this.appRef.attachView(this.componentRef.hostView);var i=this.componentRef.hostView.rootNodes[0];document.body.appendChild(i),this.componentSubscribe=this.componentRef.instance.events.subscribe(function(t){o.handleEvents(t)})},t.prototype.clearTimeouts=function(){this.createTimeoutId&&clearTimeout(this.createTimeoutId),this.showTimeoutId&&clearTimeout(this.showTimeoutId),this.hideTimeoutId&&clearTimeout(this.hideTimeoutId),this.destroyTimeoutId&&clearTimeout(this.destroyTimeoutId)},Object.defineProperty(t.prototype,"isDisplayOnHover",{get:function(){return 0!=this.options.display&&((0!=this.options["display-mobile"]||!this.isMobile)&&"hover"===this.options.trigger)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isDisplayOnClick",{get:function(){return 0!=this.options.display&&((0!=this.options["display-mobile"]||!this.isMobile)&&"click"==this.options.trigger)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isMobile",{get:function(){return!!navigator.maxTouchPoints},enumerable:!0,configurable:!0}),t.prototype.applyOptionsDefault=function(t,e){this._defaultOptions=Object.assign({},t),this.options=Object.assign(this._defaultOptions,e)},t.prototype.handleEvents=function(t){"shown"===t&&this.events.emit("shown")},t.prototype.show=function(){!this.componentRef||this.isTooltipDestroyed?this.createTooltip():this.isTooltipDestroyed||this.showTooltipElem()},t.prototype.hide=function(){this.destroyTooltip()},t.decorators=[{type:n.Directive,args:[{selector:"[tooltip]"}]}],t.ctorParameters=function(){return[{type:n.ElementRef},{type:n.ComponentFactoryResolver},{type:n.ApplicationRef},{type:n.Injector}]},t.propDecorators={tooltipValue:[{type:n.Input,args:["tooltip"]}],options:[{type:n.Input,args:["options"]}],placement:[{type:n.Input,args:["placement"]}],contentType:[{type:n.Input,args:["content-type"]}],delay:[{type:n.Input,args:["delay"]}],hideDelayMobile:[{type:n.Input,args:["hide-delay-mobile"]}],zIndex:[{type:n.Input,args:["z-index"]}],animationDuration:[{type:n.Input,args:["animation-duration"]}],trigger:[{type:n.Input,args:["trigger"]}],tooltipClass:[{type:n.Input,args:["tooltip-class"]}],display:[{type:n.Input,args:["display"]}],displayMobile:[{type:n.Input,args:["display-mobile"]}],shadow:[{type:n.Input,args:["shadow"]}],theme:[{type:n.Input,args:["theme"]}],offset:[{type:n.Input,args:["offset"]}],maxWidth:[{type:n.Input,args:["max-width"]}],id:[{type:n.Input,args:["id"]}],showDelay:[{type:n.Input,args:["show-delay"]}],hideDelay:[{type:n.Input,args:["hide-delay"]}],events:[{type:n.Output}],onMouseEnter:[{type:n.HostListener,args:["focusin"]},{type:n.HostListener,args:["mouseenter"]}],onMouseLeave:[{type:n.HostListener,args:["focusout"]},{type:n.HostListener,args:["mouseleave"]}],onClick:[{type:n.HostListener,args:["click"]}]},t}(),r=function(){function t(){}return t.decorators=[{type:n.NgModule,args:[{declarations:[s,o],imports:[e.CommonModule],exports:[s],entryComponents:[o]}]}],t}();t.TooltipComponent=o,t.TooltipDirective=s,t.TooltipModule=r,Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=ng2-tooltip-directive.umd.min.js.map